# RPC-Framework-By-Poldroc

## 代理层

- 基于Netty搭建了一套简单的服务端和客户端通信模型。
- 通过自定义协议体RpcProtocol的方式来解决网络粘包和拆包的问题。
- 封装了统一的代理接口，合理引入了JDK代理来实现网络传输的功能。
- 客户端通过队列消费的异步设计来实现消息发送，通过uuid来标示请求线程和响应线程之间的数据匹配问题。

![image-20230917012659415](https://gitee.com/poldroc/typora-drawing-bed01/raw/master/imgs/202309170126607.png)



## 注册中心

![image-20230917013114895](https://gitee.com/poldroc/typora-drawing-bed01/raw/master/imgs/202309170131966.png)





## 路由层

实现了**随机路由**和**轮询路由** 两大类





## 序列化层

对接市面上常见的序列化技术框架: Hessian2、Kryo、JDK、FastJson





### 当前框架设计回顾

目前我们Rpc框架的基本设计架构如下图所示，除了简单的客户端发送请求抵达服务端之外，还新增了以下几个角色：

- 代理层 （根据配置生成不同的动态代理类）；
- 路由层 （根据配置选用不同的负载均衡方法）；
- 注册中心层（根据配置接入多种注册中心，通过引入第三者来实现“协调”的效果）；
- 序列化层（根据配置采用不同的序列化框架，传输协议的统一）。



![image-20230923195432406](https://gitee.com/poldroc/typora-drawing-bed01/raw/master/imgs/202309231954645.png)

暂时来看，请求的基本功能算是比较完善了，但是在实际的开发使用过程中可能还会存在以下问题：

- 对client的请求做鉴权；
- 分组管理服务；
- 如何实现基于ip直连的方式访问server端？
- 调用过程中需要记录下调用的相关日志信息。
